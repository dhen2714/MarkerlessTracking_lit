\documentclass[class=article, crop=false]{standalone}

\begin{document}
Spatial information provided by a camera is inherently 2D, whereas 3D information is needed for motion tracking. Without affixing markers with known geometric properties, multiple cameras are needed for depth perception. Finding accurate and robust correspondences of points in these multiple camera views is therefore required. Structured light techniques offer a solution to the correspondence problem by replacing a camera with a light source that projects some user-defined pattern onto the scene. Finding correspondences between views and hence 3D information becomes a matter of finding the intersection of a ray projected from a viewing camera centre with the projected light plane (Figure \ref{struct_light}). Given a calibration between light source and detector, 3D surface coordinates can be found through triangulation, and a map of the object surface can be formed. For comprehensive reviews on structured light techniques, see \cite{Geng2011} and \cite{Salvi2010}.

\begin{figure}[!ht]
	\centering
	\includegraphics*[scale=1.1]{structured_light_demo}
	\caption{Triangulation using structured light. A light pattern is projected onto a scene, with variations in scene depth causing distortions in the pattern. The 3D coordinates of point P can be geometrically found, given the colour index and pixel position. Image taken from \parencite{Geng2011}.}
	\label{struct_light}
\end{figure}


\par
Algorithms associated with obtaining the 3D surface map are dependent on the type of surface illumination. These illumination techniques can be categorized as either being ‘single-shot’ or ‘multi-shot’. The latter requires the integration of multiple structured light patterns projected sequentially, while the former can produce a surface map from a single pattern projection. Intuitively, single-shot techniques appear better suited for motion tracking applications, as they provide better sampling rates. On the other hand, multi-shot techniques may offer more accurate and reliable measurements, given the sequential illuminations can be projected and captured in a short enough time for any motion that occurs in the FOV. 
\par
Single-shot structured light techniques make use of chromatic light, light with spatially varying intensity or projected grid patterns such that full 3D information of a scene can be extracted from a single frame. The `rainbow' system developed by Geng \parencite*{JasonGeng1996} projects patterns with spatially varying wavelength, with simple triangulation being possible for each pixel given a known system baseline. A similar approach by Carrihill and Hummel \parencite*{Carrihill1985} used a spatially varying greyscale profile. These methods, while allowing for dense surface reconstruction, suffer from high sensitivity to noise and require a smooth imaging surface with little colour variation.
\par
Periodic patterns can also be projected to obtain dense feature maps, with depth information being encoded into the phase of the illumination. Such methods are not as susceptible to changes in the illuminating pattern caused by the scene. There are various ways to extract phase information; phase-shift interferometry (PSI) \parencite{ISI:A1974U657500060,Huang1999}, Fourier transform profilometry (FTP) \parencite{Takeda:83,Yue20071170} and wavelet transform profilometry (WTP) \parencite{Gdeisat2006482,Fernandez2010}. Both FTP and WTP are single-shot techniques, while PSI requires multiple shots (at least three) unless the phase-shifted, sinusoidal fringe patterns are multiplexed, as in \cite{Huang1999}.
\par
Examples of different structured light patterns are shown in Figure \ref{struct_patterns}. Other single-shot illumination strategies involve projecting coded stripes \parencite{Boyer1987,Forster2007,Zhang2002}, or 2D grid patterns \parencite{Petriu2000,Pages2006,Albitar2006}. Multi-shot techniques, capable of providing high resolution 3D information for large number of projections, can offer resistance against noise. Projecting successive binary patterns is the traditional multi-shot approach \parencite{Posdamer1982}, with the addition of colour encoding \parencite{Caspi1998} or PSI \parencite{Huang2006} helping to reduce the number of projected patterns.

\begin{figure}
	\centering
	\includegraphics*[scale=0.75]{struct_light_patterns}
	\caption{Structured light patterns. a) Binary encoding - black and white stripe patterns are successively projected onto the scene, with the width of the stripes getting thinner with each projection. Each line along the horizontal axis thus has a unique code \parencite{Geng2011}. b) Grid encoding - three distinct characters are projected onto a grid such that each 3$\times$3 window is unique \parencite{Albitar2006}. c) Stripe encoding using a De Brujin sequence - the position of each coloured stripe is unique when considering the colours of its neighbours \parencite{Zhang2002}. }
	\label{struct_patterns}
\end{figure}

\par
In the context of motion tracking, a structured light approach for quantifying movement of rodent heads for preclinical PET was recently reported by \cite{Miranda2017}. A stereo system, the Ensenso N10 (Ensenso GmbH, Freiburg im Breisgau, Germany), which consisted of an IR sensitive camera and IR random point pattern projector was used. A surface map of the rat head was obtained at a frequency of 31 Hz, and the motion between captures was calculated using iterative closest point (ICP).
\par 
The use of IR structured light for motion tracking was also demonstrated by Olesen et al. \parencite*{Olesen2012} for human heads in a medical imaging scanner. They reported errors of 0.09$^{\circ}$ and 0.24 mm for a system which used successive IR sinusoid projections and PSI to measure motion of the head in a Siemens High Resolution Research Tomograph (HRRT) PET scanner. Similar to an MRI scanner, the HRRT has a narrow bore, meaning that the motion tracking system had to be compact for in or near-bore use. Preliminary results for an MR-compatible version of this system have also been shown \parencite{Olesen2015a}. The rate at which the 3D point clouds could be streamed was 8.4 Hz. For clinical applications, the use of IR patterns would be beneficial for patient comfort, as it avoids shining visible light on the patient's face.
\par
The above studies have shown the feasibility of a structured light approach for markerless motion tracking of the head. Structured light can provide high fidelity surface maps of facial features which can be registered to quantify motion, without the need for marker attachment, and MR compatibility has been demonstrated. There are some drawbacks however. While structured light allows for correspondences to be found in-frame, 3D point correspondences across frames are not defined. This prevents the use of a closed-form calculation of head motion, and a more time consuming algorithm such as ICP must be used. While this is not necessarily an issue when motion correction is done retrospectively, such as in PET, the time consuming nature of pose estimation may be a limiting factor when considering real-time capabilities.
\par
Another factor to consider is head coil geometry. For the MR-compatibly structured light system in \cite{Olesen2015a}, the cameras and projectors were just outside the coil inside the bore of the scanner. Viewing of the subject's face was done through slits in the coil. This approach is thus dependent on head coil design, and acquiring usable surface maps for motion tracking may not be feasible for certain geometries. The design of a similar system which could work inside the head coil would be desirable.

\end{document}